webpackJsonp([6],{"3d+s":function(e,r){},x6af:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("3cXf"),s=t.n(o),a=t("lC5x"),n=t.n(a),l=t("J0Oq"),i=t.n(l),p=t("ML2x"),m=t.n(p),c=t("su5K"),f=t("QmQ9"),u={data:function(){return{form:{},enterprise:{}}},mounted:function(){this.initStorage(),this.getDetail()},methods:{initStorage:function(){var e=sessionStorage.getItem("ep_info")||"";e=m.a.base64decode(e),(e=JSON.parse(e)).id||e.name||e.code?this.enterprise=e:this.$router.push("/enterprise")},getDetail:function(){var e=this;return i()(n.a.mark(function r(){var t,o;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e.enterprise.id>0)){r.next=9;break}return t=f.a.url.enterprise,r.next=5,f.a.get(t,e.enterprise);case 5:200===(o=r.sent).code&&(e.form=o.data),r.next=10;break;case 9:e.form={name:e.enterprise.name,code:e.enterprise.code,password:e.enterprise.password};case 10:case"end":return r.stop()}},r,e)}))()},onSubmit:function(){var e=this;return i()(n.a.mark(function r(){var t,o,a,l;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.validate(e.$refs.form);case 2:if(!r.sent){r.next=16;break}return r.next=6,c.a.confirm("确定要提交吗？");case 6:if(r.sent){r.next=9;break}return r.abrupt("return");case 9:return e.form.password=e.enterprise.password,t=JSON.parse(s()(e.form)),o=f.a.url.enterprise,r.next=14,f.a.post(o,t);case 14:200===(a=r.sent).code&&(c.a.message("success","信息提交成功"),e.enterprise.id=a.data,l=m.a.base64encode(s()(e.enterprise)),sessionStorage.setItem("ep_info",l),e.$router.push("/enterprise/menu"));case 16:case"end":return r.stop()}},r,e)}))()}}},_={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"survey"},[e._m(0),e._v(" "),t("el-form",{ref:"form",attrs:{model:e.form,"label-position":"top"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:"企业名称",prop:"name"}},[t("el-input",{attrs:{value:e.form.name,disabled:""}})],1),e._v(" "),t("el-form-item",{attrs:{label:"统一社会信用代码",prop:"code"}},[t("el-input",{attrs:{value:e.form.code,disabled:""}})],1),e._v(" "),t("el-form-item",{attrs:{label:"企业地址",prop:"ext_address",required:""}},[t("el-input",{attrs:{placeholder:"请输入企业地址"},model:{value:e.form.ext_address,callback:function(r){e.$set(e.form,"ext_address",r)},expression:"form.ext_address"}}),e._v(" "),t("div",{staticClass:"el-form-item__error",attrs:{slot:"error"},slot:"error"},[e._v("请输入企业地址")])],1),e._v(" "),t("el-form-item",{attrs:{label:"24小时值班电话",prop:"ext_phone_24",rules:[{required:!0,message:"请输入电话号码"},{pattern:/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/g,message:"电话格式不正确"}]}},[t("el-input",{attrs:{placeholder:"请输入电话","prefix-icon":"el-icon-phone-outline"},model:{value:e.form.ext_phone_24,callback:function(r){e.$set(e.form,"ext_phone_24",r)},expression:"form.ext_phone_24"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"法定代表人",prop:"ext_fr",required:""}},[t("el-input",{attrs:{placeholder:"请输入法定代表人"},model:{value:e.form.ext_fr,callback:function(r){e.$set(e.form,"ext_fr",r)},expression:"form.ext_fr"}}),e._v(" "),t("div",{staticClass:"el-form-item__error",attrs:{slot:"error"},slot:"error"},[e._v("请输入法定代表人")])],1),e._v(" "),t("el-form-item",{attrs:{label:"联系人",prop:"ext_contact",required:""}},[t("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:e.form.ext_contact,callback:function(r){e.$set(e.form,"ext_contact",r)},expression:"form.ext_contact"}}),e._v(" "),t("div",{staticClass:"el-form-item__error",attrs:{slot:"error"},slot:"error"},[e._v("请输入联系人")])],1),e._v(" "),t("el-form-item",{attrs:{label:"联系电话",prop:"ext_phone",rules:[{required:!0,message:"请输入电话号码"},{pattern:/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/g,message:"电话格式不正确"}]}},[t("el-input",{attrs:{placeholder:"请输入联系电话","prefix-icon":"el-icon-phone-outline"},model:{value:e.form.ext_phone,callback:function(r){e.$set(e.form,"ext_phone",r)},expression:"form.ext_phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号码",prop:"ext_mobile",rules:[{required:!0,message:"请输入手机号码"},{pattern:/^1[3456789]\d{9}$/g,message:"手机格式不正确"}]}},[t("el-input",{attrs:{placeholder:"请输入手机号码","prefix-icon":"el-icon-mobile"},model:{value:e.form.ext_mobile,callback:function(r){e.$set(e.form,"ext_mobile",r)},expression:"form.ext_mobile"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"员工总人数",prop:"ext_total_person",required:""}},[t("el-input",{attrs:{type:"number",placeholder:"请输入员工总人数"},model:{value:e.form.ext_total_person,callback:function(r){e.$set(e.form,"ext_total_person",r)},expression:"form.ext_total_person"}}),e._v(" "),t("div",{staticClass:"el-form-item__error",attrs:{slot:"error"},slot:"error"},[e._v("请输入员工总人数")])],1),e._v(" "),t("el-form-item",{attrs:{label:"其中，来自或去过疫情重点地区人数",prop:"ext_key_person"}},[t("el-input",{attrs:{type:"number",placeholder:"请输入重点地区人数"},model:{value:e.form.ext_key_person,callback:function(r){e.$set(e.form,"ext_key_person",r)},expression:"form.ext_key_person"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"返岗人数",prop:"ext_back_person",required:""}},[t("el-input",{attrs:{type:"number",placeholder:"请输入返岗人数"},model:{value:e.form.ext_back_person,callback:function(r){e.$set(e.form,"ext_back_person",r)},expression:"form.ext_back_person"}}),e._v(" "),t("div",{staticClass:"el-form-item__error",attrs:{slot:"error"},slot:"error"},[e._v("请输入返岗人数")])],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"survey-hd"},[r("h3",{staticClass:"title"},[this._v("企业基本情况")])])}]};var d=t("C7Lr")(u,_,!1,function(e){t("3d+s")},"data-v-1b5d6682",null);r.default=d.exports}});
//# sourceMappingURL=6.874670df7c4316224749.js.map